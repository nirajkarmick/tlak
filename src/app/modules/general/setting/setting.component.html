<article id="content-page" class="content-page sidebar-main">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="pagebreadcrumbs" id="pagebreadcrumbs">
          <div class="row">
            <div class="container-fluid">
              <div class="subheader-main">
                <h3 class="subheader-title" translate> settings.Company Overview </h3>
                <div class="subheader-breadcrumbs">
                  <a href="javascript:void(0);" class="subheader-breadcrumbs-home subheader-breadcrumbs-separator"><i class="ri-home-7-line"></i></a>
                  <!-- <a href="javascript:void(0);" class="subheader-breadcrumbs-link subheader-breadcrumbs-separator" translate> settings.Settings</a> -->
                  <a href="javascript:void(0);" class="subheader-breadcrumbs-link subheader-breadcrumbs-separator" translate> settings.Company Setting </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="iq-card mt-5">
              <div class="iq-card-body profile-page p-0">
                <div class="profile-header">
                  <div class="profile-info p-4">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="user-detail pl-5">
                          <div class="d-flex flex-wrap align-items-center">
                            <div class="profile-img position-relative">
                              <img onError="src='assets/images/no-img.jpg'" [src]="croppedImage" alt="profile-img" class="avatar-130 img-fluid">
                              <div class="companyLogochange">
                                <input type="file" (change)="onFileChange($event)" id="companyLogo" class="companyLogoinput" accept="image/png, image/jpg, image/jpeg">
                                <i class="fas fa-edit"></i>
                              </div>
                            </div>
                            <div class="profile-detail pl-4 d-flex align-items-center">
                              <h3> {{compName}} </h3>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--<div class="col-sm-12 col-md-6">
                        <ul class="nav nav-pills d-flex align-items-end float-right profile-feed-items p-0 m-0">
                          <li>

                          </li>
                        </ul>
                      </div>-->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 profile-right">
            <div class="iq-card">
              <div class="iq-card-header d-flex justify-content-between">
                <div class="iq-header-title d-flex align-items-center justify-content-between w-100">
                  <h4 class="card-title" translate> settings.About </h4>
                  <a class="btn btn-light" href="javascript:void(0);" data-toggle="modal" data-target="#exampleModalCenter" translate><i class="ri-pencil-line"></i> settings.Edit </a>
                </div>
              </div>
              <div class="iq-card-body">
                <div class="about-info m-0 p-0">
                  <div class="row">
                    <div class="col-12">
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.Company ID: </div>
                        <div class="col-9">{{compid}}</div>
                      </div>
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.Contact Person Name: </div>
                        <div class="col-9"> {{cp_Name}} </div>
                      </div>
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.Email: </div>
                        <div class="col-9"><a href="mailto:{{cEmail}}" target="_blank"> {{cEmail}} </a></div>
                      </div>
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.Phone: </div>
                        <div class="col-9"><a href="javascript:void(0);"> {{cPhone}} </a></div>
                      </div>
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.Website:</div>
                        <div class="col-9"><a href="{{webSite}}" target="_blank"> {{webSite}} </a></div>
                      </div>
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.Address:</div>
                        <div class="col-9">{{address_street}}<span *ngIf="address_zip"> - </span> {{address_zip}} </div>
                      </div>
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.City: </div>
                        <div class="col-9">{{address_city}}</div>
                      </div>
                      <div class="mt-2 mb-2 row">
                        <div class="col-3" translate> settings.Country: </div>
                        <div class="col-9"> {{address_country}} </div>
                      </div>
                      <ul class="pages-lists m-0 p-0">
                        <li class="d-flex mb-2 align-items-center">
                          <div class="user-img img-fluid"><i class="fab fa-facebook"></i></div>
                          <div class="media-support-info ml-3">
                            <h5><a href="https://{{facebook}}" target="_blank"> {{facebook}} </a></h5>
                          </div>
                        </li>
                        <li class="d-flex mb-2 align-items-center">
                          <div class="user-img img-fluid"><i class="fab fa-twitter"></i></div>
                          <div class="media-support-info ml-3">
                            <h5><a href="https://{{twitter}}" target="_blank"> {{twitter}} </a></h5>
                          </div>
                        </li>
                        <li class="d-flex mb-2 align-items-center">
                          <div class="user-img img-fluid"><i class="fab fa-instagram"></i></div>
                          <div class="media-support-info ml-3">
                            <h5><a href="https://{{instagram}}" target="_blank"> {{instagram}} </a></h5>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 profile-right">
            <div class="iq-card">
              <div class="iq-card-header d-flex justify-content-between">
                <div class="iq-header-title d-flex justify-content-between align-items-center w-100">
                  <h4 class="card-title" translate> settings.Sub Agent </h4>
                  <div class="">
                    <a class="btn btn-primary btn-sm mr-2" href="javascript:void(0);" data-toggle="modal" data-target="#Searchagent" translate><i class="ri-search-2-line"></i> Search Agent </a>
                    <a class="btn btn-light btn-sm" href="javascript:void(0);" data-toggle="modal" data-target="#exampleModalCenter1" translate><i class="ri-pencil-line"></i> settings.Add Agent </a>
                  </div>
                </div>
              <!--  <div class="col-sm-12 col-md-6">
                  <ul class="nav nav-pills d-flex align-items-end float-right profile-feed-items p-0 m-0">
                    <li>
                    </li>
                  </ul>
                </div>-->
              </div>
              <div class="row">
                <div class="col-md-12">
                  <table class="table table-hover" id="example2">
                    <thead>
                    <tr>
                      <th translate> settings.Agent Name </th>
                      <th translate> settings.Company </th>
                      <th translate> settings.Email id </th>
                      <th translate> settings.Actions </th>
                    </tr>
                    </thead>
                    <tbody *ngFor="let item of agent">
                    <tr>
                      <td title="Test Departure" class="table-td-ellipsis"> {{item.name}} </td>
                      <td><a href="" target="_blank"> {{item.company}} </a></td>
                      <td><a href="mailto:{{item.email}}" target="_blank"> {{item.email}} </a></td>
                      <td>
                        <a href="javascript:void(0)" title="Edit manager" data-toggle="modal" data-target="#exampleModalCenter2" (click)="openAgent(item.id)"><i class="ri-pencil-line upload-button"></i></a>
                        <a href="javascript:void(0)" class="text-danger" data-target="#confirm-delete" data-toggle="modal" (click)="deleteAgentPop(item.id, item.name)">
                          <i class="ri-delete-bin-2-line upload-button"></i>
                        </a>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</article>

<!-- company update-->
<div class="modal fade fixed-left" id="exampleModalCenter" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-aside" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" translate> settings.Edit Company Details </h5>
        <button type="button" class="close" id="closeModel" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body overflow-auto">
        <form action="" [formGroup]="tenentEdit" (ngSubmit)="editTnent()">
          <div class="row">
            <div class="col-12">
              <div class="form-group">
                <label for="name" translate> settings.Name </label>
                <input type="text" class="form-control" name="compnayname" value="{{tenentEdit.value.name}}" id="name" formControlName="name">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="company_name" translate> settings.Company Name </label>
                <input type="text" class="form-control" name="company_name" value="{{tenentEdit.value.company_name}}" id="company_name" formControlName="company_name">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="phone" translate> settings.Contact Number </label>
                <input type="text" class="form-control" name="phone" value="{{tenentEdit.value.phone}}" id="phone"
                       formControlName="phone">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="company_website" translate> settings.Company Website </label>
                <input type="text" class="form-control" name="company_website" value="{{tenentEdit.value.company_website}}" id="company_website" formControlName="company_website">
              </div>
            </div>
            <div class="col-12">
              <h5 class="mt-3 mb-2 text-primary" translate> settings.Social Media </h5>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="fb" translate> Facebook </label>
                <input type="text" class="form-control" name="fb" value="{{tenentEdit.value.facebook}}" id="fb" formControlName="facebook">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="twitter" translate> Twitter </label>
                <input type="text" class="form-control" name="twitter" value="{{tenentEdit.value.twitter}}" id="twitter" formControlName="twitter">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="instagram" translate> Instagram </label>
                <input type="text" class="form-control" name="instagram" value="{{tenentEdit.value.instagram}}" id="instagram" formControlName="instagram">
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-primary" translate> settings.Submit </button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- company update pop close-->

<!--agent pop-->

<div class="modal fade fixed-left" id="exampleModalCenter1" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-aside" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" translate> settings.Add Agent Details </h5>
        <button type="button" class="close" id="closeAgentmodal" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body overflow-auto">
        <form [formGroup]="addAgent" (ngSubmit)="agentAdd()">
          <div class="row">
            <div class="col-12">
              <div class="form-group">
                <label for="name" translate> settings.Agent Name </label>
                <input type="text" class="form-control" name="name" id="name" formControlName="name">
                <div *ngIf="isSubmitted&&form.name.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form.name.errors.required" translate> settings.Add Agent Name. </p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="email" translate> settings.Email ID </label>
                <input type="text" class="form-control" name="email" value="" id="email" formControlName="email">
                <div *ngIf="isSubmitted&&form.email.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form.email.errors.required" translate> settings.Add Email. </p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="phone" translate> settings.Phone Number </label>
                <input type="text" class="form-control" name="phone" id="phone" formControlName="phone">
                <div *ngIf="isSubmitted&&form.phone.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form.phone.errors.required" translate> settings.Add PhoneNumber. </p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="company" translate> settings.Company </label>
                <input type="text" class="form-control" name="company" id="company" formControlName="company">
                <div *ngIf="isSubmitted&&form.company.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form.company.errors.required" translate> settings.Add Company Name. </p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="company_website" translate> settings.Company Website </label>
                <input type="text" class="form-control" name="company_website" id="company_website" formControlName="company_website">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="about" translate> settings.Street Address </label>
                <textarea id="about" class="form-control" rows="5" formControlName="street_address"></textarea>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="city" translate> settings.City </label>
                <input type="text" class="form-control" name="city" id="city" formControlName="city">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="state" translate> settings.State </label>
                <input type="text" class="form-control" name="state" id="state" formControlName="state">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="code" translate> settings.Post Code </label>
                <input type="text" class="form-control" name="code" placeholder="code" id="code">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="country" translate> settings.Country </label>
                <input type="text" class="form-control" name="country" id="country" formControlName="country">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label translate> Company Logo </label>
                <div class="position-relative d-flex align-items-center">
                  <img onerror="src='assets/images/no-img.jpg'" alt="AgentLogo" class="avatar-130 img-fluid" id="AgentLogo"  [src]="filePath">
                  <div class="agentLogochange">
                    <input type="file" id="AgentLogo" accept="image/png, image/jpg, image/jpeg" class="companyLogoinput" (change)="filename1($event)">
                    <button class="btn btn-primary" type="button"> Upload Logo </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-primary" translate> settings.Submit </button>
        </form>
      </div>
    </div>
  </div>
</div>

<!--agent pop close-->
<!-- Edit Agent Form -->
<div class="modal fade fixed-left" id="exampleModalCenter2" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-aside" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" translate> settings.Update Agent Details</h5>
        <button type="button" class="close" id="closeAgentmodaledit" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body overflow-auto">
        <form [formGroup]="agentEdit" (ngSubmit)="editAgent()">
          <div class="row">
            <div class="col-12">
              <div class="form-group">
                <label for="name" translate> settings.Agent Name</label>
                <input type="text" class="form-control" name="name" value="{{agentEdit.value.name}}" id="name" formControlName="name">
                <div *ngIf="isSubmitted&&form1.name.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form1.name.errors.required" translate>Add Agent Name.</p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="email" translate> settings.Email ID</label>
                <input type="text" class="form-control" name="email" value="{{agentEdit.value.email}}" value="" id="email" formControlName="email">
                <div *ngIf="isSubmitted&&form1.email.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form1.email.errors.required" translate> settings.settings.Add Email.</p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="phone" translate> settings.Phone Number</label>
                <input type="text" class="form-control" name="phone" value="{{agentEdit.value.phone}}" id="phone" formControlName="phone">
                <div *ngIf="isSubmitted&&form1.phone.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form1.phone.errors.required" translate> settings.Add PhoneNumber.</p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="company" translate> settings.Company</label>
                <input type="text" class="form-control" name="company" value="{{agentEdit.value.company}}" id="company" formControlName="company">
                <div *ngIf="isSubmitted&&form1.company.errors" class="text-danger">
                  <p class="mb-0" *ngIf="form1.company.errors.required" translate> settings.Add Company Name.</p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="company_website" translate> settings.Company Website</label>
                <input type="text" class="form-control" name="company_website" value="{{agentEdit.value.company_website}}" id="company_website" formControlName="company_website">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="about" translate> settings.Street Address</label>
                <textarea id="about" class="form-control" rows="5" value="{{agentEdit.value.street_address}}" formControlName="street_address"></textarea>
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="city" translate> settings.City</label>
                <input type="text" class="form-control" name="city" value="{{agentEdit.value.city}}" id="city" formControlName="city">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="state" translate> settings.State</label>
                <input type="text" class="form-control" name="state" value="{{agentEdit.value.state}}" id="state" formControlName="state">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="code" translate> settings.Post Code</label>
                <input type="text" class="form-control" name="code" placeholder="code" id="code" value="{{agentEdit.value.zipcode}}" formControlName="zipcode">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="country" translate> settings.Country</label>
                <input type="text" class="form-control" name="country" placeholder="Enter Country Name" id="country" value="{{agentEdit.value.country}}" formControlName="country">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label translate> Company Logo</label>
                <div class="position-relative d-flex align-items-center">
                  <img onerror="src='assets/images/no-img.jpg'" alt="AgentLogo" class="avatar-130 img-fluid"  [src]="filePath">
                  <div class="agentLogochange">
                    <input type="file" id="AgentLogo" accept="image/png, image/jpg, image/jpeg" class="companyLogoinput" (change)="filename($event)">
                    <button class="btn btn-primary" type="button">Upload Logo</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-primary" translate> settings.Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- Delete popup-->
<div class="modal fade confirm-delete" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content modal-filled bg-danger">
      <div class="modal-body">
        <div class="text-center">
          <i class="dripicons-wrong h1 text-white"></i>

          <p class="mt-3 text-white" translate> settings.Do you really want to delete <strong>{{agentName}}</strong>
           <span translate> settings.from this list.</span> </p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-light" data-dismiss="modal" translate> settings.No</button>
        <a class="btn btn-light btn-ok text-danger" data-dismiss="modal" (click)="deleteAgent()" translate> settings.Yes</a>
      </div>
    </div>
  </div>
</div>
<!-- end delete popup -->
<div class="modal fade" style="margin:0 auto;" id="crop_model" tabindex="-1" role="dialog" aria-hidden="false">
  <div class="modal-dialog" style="max-width: 650px">
    <div class="modal-content">
      <div class="modal-body" style="padding: 10px; max-height: 650px;overflow: auto;">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="close_crop()">&times;
        </button>
        <div class="form-group-attached">
          <div class="row">
            <div class="col-md-12">
              <image-cropper
                [imageChangedEvent]="imageChangedEvent"
                [containWithinAspectRatio]="containWithinAspectRatio"
                [maintainAspectRatio]="true"
                [aspectRatio]="1 / 1"
                [resizeToWidth]="400"
                [cropperMinWidth]="100"
                [onlyScaleDown]="true"
                [roundCropper]="false"
                [alignImage]="'left'"
                [style.display]="showCropper ? null : 'none'"
                format="png"
                (imageCropped)="imageCropped($event)"
                (imageLoaded)="imageLoaded()"
                (cropperReady)="cropperReady($event)"
                (loadImageFailed)="loadImageFailed()"
              ></image-cropper>
            </div>
            <button class="btn btn-primary" (click)="toggleContainWithinAspectRatio()">{{containWithinAspectRatio?'Fill Aspect Ratio':'Contain Within Aspect Ratio'}}</button>
            <!-- <button class="btn btn-dark" (click)="zoomOut()">Zoom -</button>
            <button class="btn btn-dark" (click)="zoomIn()">Zoom +</button> -->
          </div>
          <div class="row">
            <div class="col-md-12 mt-5 text-right">
              <button type="button" class="btn btn-warning" data-dismiss="modal" (click)="done_cropping()" translate>
                settings.Done Cropping</button>
              <button type="button" class="btn btn-secondary ml-1" data-dismiss="modal" (click)="close_crop()" translate> settings.Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade fixed-left" id="Searchagent" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-aside" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" translate> Search and Add agent</h5>
        <button type="button" class="close" id="closeAgentsearch" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body overflow-auto">
        <form>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="searchAgentInput">Search Agent</label>
                <input type="search" class="form-control" id="searchAgentInput" placeholder="Enter agent email or name....">
              </div>
            </div>
            <div class="col-md-12 text-right">
              <button type="submit" class="btn btn-primary" translate> Add Agent</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
